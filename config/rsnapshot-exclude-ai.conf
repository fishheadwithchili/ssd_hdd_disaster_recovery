# =========================================================================
# RSNAPSHOT EXCLUDE PATTERNS - AI Infrastructure Edition
# =========================================================================
# 原则: 只排除【可重建】的数据，保留所有【不可重现】的数据
# =========================================================================

# -----------------------------------------------------------------------------
# 系统级临时文件（可安全排除）
# -----------------------------------------------------------------------------
/tmp/
/var/tmp/
*.tmp
*.temp
*.swp
*.swap
.local/share/Trash/
.Trash/

# -----------------------------------------------------------------------------
# Docker: 只排除镜像层，保留所有volumes（关键业务数据）
# -----------------------------------------------------------------------------
**/docker/image/          # Docker镜像层（可重新拉取）
**/docker/overlay2/tmp/   # 临时文件
**/docker/runtimes/       # 运行时临时数据
**/docker/buildkit/       # 构建缓存（可重建）

# ⚠️ 不排除: /docker/volumes/ （包含数据库等关键数据）

# -----------------------------------------------------------------------------
# AI/ML: 只排除可重新生成的产物
# -----------------------------------------------------------------------------
# 编译产物
**/target/debug/          # Rust调试版本
**/build/intermediates/   # 中间产物
**/dist/                  # 可重新打包
**/.pytest_cache/
**/.mypy_cache/

# ⚠️ 保留以下（用户明确要求）:
# ✅ **/__pycache__/      - Python字节码（虽可重建，但加速启动）
# ✅ **/.cache/pip/       - pip缓存（节省下载时间）
# ✅ **/node_modules/     - npm依赖（重新安装耗时）
# ✅ **/.venv/            - Python虚拟环境（含编译的包）

# -----------------------------------------------------------------------------
# 日志文件优化（只保留最近30天）
# -----------------------------------------------------------------------------
# 注意: 不直接排除日志，而是通过归档脚本移动到cold-archive
# **/logs/*.log.gz       # 压缩日志可选排除（如果空间紧张）

# -----------------------------------------------------------------------------
# 浏览器缓存（可排除）
# -----------------------------------------------------------------------------
**/.cache/google-chrome/
**/.cache/chromium/
**/.cache/mozilla/
**/.cache/thumbnails/
# 通用缓存目录 (新增 v2.0)
**/.cache/

# -----------------------------------------------------------------------------
# IDE临时文件
# -----------------------------------------------------------------------------
**/.vscode/
**/.idea/
.DS_Store
Thumbs.db
*.code-workspace

# -----------------------------------------------------------------------------
# 大型二进制产物（可重新下载/编译）
# -----------------------------------------------------------------------------
*.iso
*.dmg
*.exe
*.msi
# 注意: 如果是自定义训练的模型权重(.pth/.bin)，不要排除！

# -----------------------------------------------------------------------------
# HuggingFace 模型缓存: 建议保留，避免重新下载
# -----------------------------------------------------------------------------
# 如果空间极度紧张，可以取消注释以下行来排除HF缓存，但恢复时需要重新下载模型
# /mnt/nvme1_data1_ext4/cache/huggingface/
